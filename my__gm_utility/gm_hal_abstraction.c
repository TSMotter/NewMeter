/***************************************************************************************************
* @file   gm_hal_abstraction.c
* @brief  Offers a new level of abstraction to ST's HAL
* @author Giuliano Motter
* @date   09/2020
***************************************************************************************************/

/***************************************************************************************************
* Includes
***************************************************************************************************/
#include "gm_hal_abstraction.h"

/***************************************************************************************************
* Private Functions Prototypes
***************************************************************************************************/

/***************************************************************************************************
* Externals
***************************************************************************************************/

/***************************************************************************************************
* Vars
***************************************************************************************************/

/***************************************************************************************************
* @brief 
***************************************************************************************************/
void assign_port_pin(void *port, uint16_t pin, gpio_hal_st *dest)
{
  dest->Port = port;
  dest->Pin = pin;
}

/***************************************************************************************************
* @brief 
***************************************************************************************************/
void drive_gpio(gpio_hal_st *gpio, uint8_t val)
{
  HAL_GPIO_WritePin(gpio->Port, gpio->Pin, val);
}

/***************************************************************************************************
* @brief 
***************************************************************************************************/
uint8_t read_gpio(gpio_hal_st *gpio)
{
  return HAL_GPIO_ReadPin(gpio->Port, gpio->Pin);
}

/***************************************************************************************************
* @brief 
***************************************************************************************************/
void toggle_gpio(gpio_hal_st *gpio)
{
  HAL_GPIO_TogglePin(gpio->Port, gpio->Pin);
}